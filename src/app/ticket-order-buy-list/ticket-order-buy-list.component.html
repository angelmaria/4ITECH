<div class="container py-3 background-gradient">
    
  <header>
    <div class="pricing-header p-3 pb-md-4 mx-auto text-center">
      <h1 class="display-4 fw-normal text-body-emphasis"><strong>Ordenes de Compra</strong></h1>
      <p class="fs-5 text-body-secondary">Aquí están las ordenes de compra de tu interés</p>
    </div>
    <div class="d-flex flex-column flex-sm-row justify-content-between py-2 my-2 border-top"></div>
  </header>

  @if (isLoggedIn) {
    
    @if (showDeletedTicketOrderBuyMessage) {
      <svg class="bi flex-shrink-0 me-2" role="img" aria-label="Success:"><use xlink:href="#check-circle-fill"/></svg>
      <ngb-alert type="success" (closed)="hideDeletedTicketOrderBuyMessage()">Ticket borrado correctamente</ngb-alert>
    }
    
    @for (ticketOrderBuy of ticketOrderBuys; track ticketOrderBuy.id) {
      <p class="button-container">
        <div class="container">
          <div class="row justify-content-center">
            <div class="col-md-8">
              <table class="table table-bordered table-hover table-info custom-table">
                <tbody>
                  <tr class="table-primary">
                    <th class="text-center align-middle"><strong>Nombre</strong></th>
                    <th class="text-center align-middle"><strong>Datos</strong></th>
                  </tr>
                  <tr class="table-secondary text center align-middle">
                    <th>ID</th>
                    <td>{{ticketOrderBuy.id}}</td>
                  </tr>
                  <tr class="table-secondary">
                    <th>Fecha - Hora</th>
                    <td>{{ticketOrderBuy.startDate| date: 'dd/MM/yyyy'}}</td>
                  </tr>
                  <tr class="table-secondary">
                    <th>Descuento</th>
                    <td>{{ticketOrderBuy.discount}}%</td>
                  </tr>
                  <tr class="table-secondary">
                    <th>Precio Total</th>
                    <td>{{ticketOrderBuy.totalPrice}}</td>
                  </tr>
                  <tr class="table-secondary">
                    <th>Número Máximo</th>
                    <td>{{ticketOrderBuy.quantity}}</td>
                  </tr>
                  <tr class="table-secondary">
                    <th>Método de pago</th>
                    <td>{{ticketOrderBuy.paymentMethod}}</td>
                  </tr>
                  <tr class="table-secondary">
                    <th>Medio de compra</th>
                    <td>{{ticketOrderBuy.channel}}</td>
                  </tr>
                  <tr class="table-secondary">
                    <th>Código Qr</th>
                    <td>{{ticketOrderBuy.qrUrl}}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="d-flex justify-content-center">
          <button class="w-100 btn btn-lg btn-outline-info p-1 me-3" style="display: block;" [routerLink]="['/ticketOrderBuys', ticketOrderBuy.id, 'detail']">Ver Orden de Compra</button>
          @if (isAdmin) {
            <button class="w-100 btn btn-lg btn-outline-primary p-1 me-3" style="display: block;" [routerLink]="['/ticketOrderBuys', ticketOrderBuy.id, 'update']">Editar Orden de Compra</button>
            <button class="w-100 btn btn-lg btn-outline-danger p-1 me-3" style="display: block;">Borrar Orden de compra</button>
          }
        </div>
      
    } @empty {
      <div class="icon-container bi bi-bag-x container d-flex justify-content-center align-items-center"></div>
      <p class="container d-flex justify-content-center align-items-center"><strong>Whoa! No hay Ordenes de Compra.</strong></p>
    }
    
  } @else {
    <div class="container">
      <h5 class="text-secondary" style="padding-top: 50px !important; padding-bottom: 30px !important;">
       Para ver listado de las ordenes de compra debes acceder como usuario registrado<button class="btn me-3 ms-3">
          <a class="nav-link border border-warning rounded border-2 p-1" routerLink="/register" (click)="$event.preventDefault()" id="" role="button"><i class="bi bi-box-arrow-in-right me-2"></i>Registrarse</a>
        </button>
      </h5>
    </div>
  }

</div>
